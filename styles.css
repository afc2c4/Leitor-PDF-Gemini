 /* --- Estilo Base --- */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f3f4f6;
        }

        /* --- Estilo do Visualizador --- */
        #viewer-container {
            position: relative;
            width: 100%;
            height: 80vh; 
            overflow: auto;
            background-color: #e5e7eb;
            border: 1px solid #d1d5db;
            margin-top: 1rem;
            cursor: default;
        }

        /* MUDANÇA: Desativa o "focus ring" roxo/azul do navegador */
        .pdf-page-container:focus,
        .pdf-page-container:focus-visible {
            outline: none;
            /* Mantém a sombra original para não parecer quebrado */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); 
        }

        /* MUDANÇA: Era ID, agora é CLASSE */
        .pdf-page-container {
            position: relative; 
            margin: 20px auto;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        /* MUDANÇA: Era ID, agora é CLASSE */
        .pdf-canvas {
            position: absolute;
            top: 0; left: 0; z-index: 10;
        }

        /* MUDANÇA: Era ID (#text-layer), agora usa a CLASSE nativa */
        .textLayer {
            position: absolute;
            top: 0; left: 0; z-index: 20;
            color: transparent; 
        }

        /* MUDANÇA: Adicionado para tornar a seleção visível */
        .textLayer::selection {
            background: rgba(0, 100, 255, 0.3); /* Cor do destaque */
            color: transparent; /* Mantém o texto original invisível */
        }

        /* MUDANÇA: Era ID, agora é CLASSE */
        .draw-layer {
            position: absolute;
            top: 0; left: 0; z-index: 30;
            width: 100%; height: 100%;
            pointer-events: none; /* Deixa clicar no texto por padrão */
        }

        /* O Retângulo de Seleção (sem mudança) */
        .selection-box {
            border: 2px dashed #2563eb; /* blue-600 */
            background-color: rgba(37, 99, 235, 0.1);
            position: absolute;
            pointer-events: none;
        }

        /* --- Estilos para Fórmulas --- */
        .math-block {
            display: block;
            overflow-x: auto; 
            background-color: #f7fafc; 
            padding: 0.75rem; 
            border-radius: 0.375rem; 
            margin: 0.5rem 0;
            font-family: "Courier New", Courier, monospace;
            white-space: pre; 
            color: #1a202c; 
        }
        .math-inline {
            font-family: "Courier New", Courier, monospace;
            background-color: #edf2f7; 
            padding: 0.1rem 0.25rem; 
            border-radius: 0.25rem; 
            font-size: 0.9em;
            color: #2d3748; 
        }

        /* --- Modal --- */
        #modal-title { cursor: move; }
        
        /* MUDANÇA: ID para CLASSE para multi-previews */
        .cropped-image-preview {
            max-width: 100%;
            height: auto; /* MUDANÇA: auto para aspect-ratio */
            max-height: 200px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
            display: block;
        }